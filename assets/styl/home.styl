global-reset()

html, body {
    height: 100%
    width: 100%
    overflow: hidden
}

* {
  box-sizing: border-box
}

light-underline(position, color) {
    background-image: linear-gradient(to bottom, rgba(0,0,0,0) 75%, transparentify(color, color, 0.8) 75%)
    background-repeat: repeat-x
    background-size: 2px 2px;
    background-position: 0 position
}

a, a:visited {
    cursor: pointer
    color: #FFF
    text-decoration: none
}

button {
    cursor: pointer
    border: none
    background: transparent
    outline: none
}

header {
    z-index: 2
    position: fixed
    padding: 20px 40px 20px 120px
    width: 100%
    background: transparentify(blue, blue, 0.6)
    transition: transform .2s

    font-family-title-bold()

    .logo {

        &::before {
            vertical-align: -6px
            content: ''
            background: url("../images/logo.png") center center
            height: 24px
            width: 24px
            display: inline-block
            background-size: 100%
            margin-right: 12px
        }
    }

    .beta {
        text-transform: uppercase
        position: absolute
        right: 40px
        top: 25px
    }
}

h1 {
    margin: 20px 0
}

h1, h2 {
    font-family-title-bold()
}

p {
    margin: 10px 0
}

h1 {
    font-size: 24px
    line-height: 30px
}

h2 {
    font-size: 20px
    margin: 20px 0
}

body {
    -webkit-font-smoothing: antialiased
    color: #FFF
    background: dark-blue
    font-family-text()
}

body::before {
    content: ''
    background: black
    position: absolute
    top: 0
    bottom: 0
    left: 0
    right: 0
    z-index: 1
    transition: opacity .2s
    opacity: .75
}

body:not(.playing) {

    .screen::before {
        content: ''
        position: absolute
        top: 0
        bottom: -1px
        left: 0
        right: 0
        background-color: blue
    }


    .screen::after {
        content: ''
        position: absolute
        background: url("../images/train.png") no-repeat
        top: 50%
        left: 50%
        height: 229px
        width: 110px
        background-size: 100%
        transform: translate(-50%, -50%)
    }
}

body.playing {

    &::before {
        opacity: 0
        z-index: 0
    }

    header {
        transform: translate3d(0,-64px, 0)
    }

    #content {
        z-index: -1

        > .wrapper {
            transform: translate3d(-1400px,-50%, 0);
        }
    }

    #demo {

        .stop-demo {
            display: block !important
        }
    }
}

#content {
    position: absolute
    right: 0
    left: 0
    top: 0
    bottom: 0
    z-index: 1
    width: 70%

    p a {
        light-underline(17px, #FFF)
    }

    .wrapper {
        transition: transform .2s
        position: absolute
        top: 50%
        left: 50%
        transform: translate(-50%, -50%)
        width: 90%
        margin: auto
        padding-left: 80px
    }

    .roadmap {
        margin-top: 40px

        .todo {

            li {
                padding: 6px

                input[type=checkbox] {
                    outline: none
                }

                &.done {
                    text-decoration: line-through
                }
            }
        }
    }
}

#demo {
    position: absolute
    right: 0
    top: 0
    bottom: 0
    z-index: 1
    width: 40%

    .stop-demo {
        position: absolute
        top: 4%
        right: 4%
        font-size: 0
        display: none

        &::before {
            font-family: 'Cheminot'
            display: inline-block
            content: '\F004'
            font-size: 44px
            color: dark-blue
        }
    }
}


#map {
    position: absolute
    right: 0
    left: 0
    top: 0
    bottom: 0
}

.phone {
    position: absolute
    top: 50%
    left: 50%
    transform: translate(-50%, -50%)
    background: #202020
    width: 320px
    height: 0
    padding-top: 630px
    margin: 0 auto
    border-radius: 1.5em
    z-index: 2

    * {
      cursor: url("../images/touch-cursor.png") 16 10, pointer;
    }

    .mask {
        position: absolute
        top: 0
        bottom: 0
        left: 0
        right: 0
        z-index: 2
        border-radius: 24px
        background: rgba(18, 18, 24, 0.59)

        &.off {
            display: none
        }
    }

    .camera {
        position: absolute
        top: 4%
        left: 48.5%
        background: #3f3f3f
        width: 3%
        height: 0
        padding-top: 3%
        border-radius: 50%
    }

    .speaker {
        position: absolute
        top: 7%
        left: 42.5%
        background: #3f3f3f
        width: 15%
        height: 0
        padding-top: 3%
        border-radius: 1em
    }

    .text {
        opacity: 0
        font-size: 1.25rem
        text-align: center
        animation: unhide 5s infinite alternate
    }

    .screen {
        background: #FFF
        width: 90%
        height: 75%
        position: absolute
        top: 12.5%
        left: 5%
        animation: lighten 5s infinite alternate

        iframe {
            width: 100%
            height: 100%
        }
    }

    .square {
        position: absolute
        top: 11px
        left: 11px
        border: 2px solid #d7d7d7
        border-radius: .3em
        width: 45%
        height: 45%
    }

    .buttons {
        padding: 16px 4px

        button {
            border: none
            background: none
            outline: none
            font-size: 0
        }

        .back::before {
            font-family: 'Cheminot'
            display: inline-block
            content: '\F00E'
            color: rgba(255, 255, 255, 0.73)
            font-size: 20px
        }
    }

    .start-demo {
        position: absolute
        top: 50%
        left: 50%
        transform: translate(-50%, -50%)
        z-index: 4
        width: 90%
        text-align: center

        &.hidden {
            display: none
        }

        button {
            text-transform: uppercase
            border: none
            background: dark-blue
            color: grey-blue
            outline: none
            display: inline-block
            font-size: 20px
            width: 100%
            padding: 20px
        }
    }

    .demo-full {
        display: none
        position: absolute
        top: 50%
        left: 50%
        transform: translate(-50%, -50%)
        z-index: 4
        width: 90%
        text-align: center
        text-transform: uppercase
        background: orange
        color: #FFF
        outline: none
        font-size: 20px
        padding: 20px
        box-sizing: border-box

        &.on {
            display: block
        }
    }
}
